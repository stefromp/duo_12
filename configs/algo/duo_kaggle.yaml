# DUO configuration optimized for Kaggle
name: duo
backbone: dit
parameterization: mean
time_conditioning: True
T: 0  # Continuous time
subs_masking: False
causal_attention: False
gumbel_tau_log10_start: -2.0  # Simplified curriculum
gumbel_tau_log10_end: -2.5
curriculum_start: 5000  # Shorter curriculum for limited resources
curriculum_end: 15000
integral_cache_path: ${hydra:runtime.cwd}/integral/gpt2.pkl
loss_type: elbo
ignore_bos: False
gamma_min: -3.5
gamma_max: -1.75

loss_weighting: fm
sigmoid_k: 0.0  # Parameter k for sigmoid weighting (only used when loss_weighting=sigmoid)

# Frequency-informed loss reweighting
freq_weighting: true
token_freqs_path: /kaggle/working/token_freqs.npy
freq_eps: 1e-8
freq_inv_max: 1e6
freq_p_max: 0.2
freq_p_schedule: linear  # linear | constant
